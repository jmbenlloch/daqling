{
  "common": {
    "loglevel": {
      "core": "WARNING",
      "module": "INFO",
      "connection": "WARNING"
    },
    "metrics_settings": {
      "influxDb_uri": "http://localhost:8086/write?db=",
      "influxDb_name": "DAQlingMetrics"
    },
    "readoutinterface": {
      "type": "ReadoutInterface",
      "delay_us": 100000,
      "payload": {
        "min": 200,
        "max": 1500
      }
    }
  },
  "configuration": {
    "version": 10,
    "group": "daq",
    "components": [
      {
        "name": "readoutinterface01",
        "host": "localhost",
        "port": 5555,
        "type": {
          "$ref": "#/common/readoutinterface/type"
        },
        "loglevel": {
          "$ref": "#/common/loglevel"
        },
        "settings": {
          "board_id": 0,
          "delay_us": {
            "$ref": "#/common/readoutinterface/delay_us"
          },
          "payload": {
            "$ref": "#/common/readoutinterface/payload"
          }
        },
        "metrics_settings": {
          "$ref": "#/common/metrics_settings"
        },
        "connections": {
          "senders": [
            {
              "type": "ZMQPubSub",
              "chid": 0,
              "transport": "tcp",
              "host": "*",
              "port": 8101,
              "queue":{
                "type":"FollyProducerConsumer",
                "queue_size":1000
              }
            }
          ]
        }
      },
      {
        "name": "readoutinterface02",
        "host": "localhost",
        "port": 5556,
        "type": {
          "$ref": "#/common/readoutinterface/type"
        },
        "loglevel": {
          "$ref": "#/common/loglevel"
        },
        "settings": {
          "board_id": 1,
          "delay_us": {
            "$ref": "#/common/readoutinterface/delay_us"
          },
          "payload": {
            "$ref": "#/common/readoutinterface/payload"
          }
        },
        "metrics_settings": {
          "$ref": "#/common/metrics_settings"
        },
        "connections": {
          "senders": [
            {
              "type": "ZMQPair",
              "chid": 0,
              "transport": "tcp",
              "host": "*",
              "port": 8102,
              "queue":{
                "type":"FollyProducerConsumer",
                "queue_size":1000
              }
            }
          ]
        }
      },
      {
        "name": "eventbuilder01",
        "host": "localhost",
        "port": 5560,
        "type": "EventBuilder",
        "loglevel": {
          "$ref": "#/common/loglevel"
        },
        "settings": {},
        "metrics_settings": {
          "$ref": "#/common/metrics_settings"
        },
        "connections": {
          "receivers": [
            {
              "type": "ZMQPubSub",
              "chid": 0,
              "connections":[
                {
                "transport": "tcp",
                "host": "localhost",
                "port": 8101
                }
              ],
              "queue":{
                "type":"FollyProducerConsumer",
                "queue_size":1000
              }
            },
            {
              "type": "ZMQPair",
              "chid": 1,
              "transport": "tcp",
              "host": "localhost",
              "port": 8102,
              "queue":{
                "type":"FollyProducerConsumer",
                "queue_size":1000
              }
            }
          ],
          "senders": [
            {
              "type": "ZMQPair",
              "chid": 0,
              "transport": "ipc",
              "path": "/tmp/feed3",
              "queue":{
                "type":"FollyProducerConsumer",
                "queue_size":1000
              }
            }
          ]
        }
      },
      {
        "name": "filewriter01",
        "host": "localhost",
        "port": 5561,
        "type": "FileWriter",
        "loglevel": {
          "$ref": "#/common/loglevel"
        },
        "settings": {
          "filename_pattern": "/tmp/test-%D.%r.%c.%n.bin"
        },
        "metrics_settings": {
          "$ref": "#/common/metrics_settings"
        },
        "connections": {
          "receivers": [
            {
              "type": "ZMQPair",
              "chid": 0,
              "transport": "ipc",
              "path": "/tmp/feed3",
              "queue":{
                "type":"FollyProducerConsumer",
                "queue_size":1000
              }
            }
          ]
        }
      }
    ]
  }
}