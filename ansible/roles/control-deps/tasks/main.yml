- name: Install python3-devel [CentOS]
  package:
    name: python3-devel
  when: ansible_distribution == 'CentOS' or ansible_distribution == 'Red Hat Enterprise Linux'

- name: Install python3-dev [Ubuntu]
  package:
    name: python3-dev
  when: ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu'

- name: Install pyzmq
  pip:
    name: "{{ packages }}"
    executable: pip3
  vars:
    packages:
    - pyzmq
    - jsonschema
    - jsonref
    - psutil
    - influxdb
    - redis

